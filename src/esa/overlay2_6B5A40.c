#include "common.h"

s16 gCurrentAnimalIndex; // bss

void func_80039D34(void) {
    D_800E527C->state = 2;
    D_800E5274->unk33A = 0;
    D_800E5274->unk312 = 0;
    D_800E5274->unk314 = 0;
    D_800E5274->unk388 = 0;
}

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80039D58);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80039E0C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80039EC4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80039F78);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A4A0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A4C4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A4F8);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A52C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A554);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A578);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A5D0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A620);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A678);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A69C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A6D0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A704);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A738);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003A764);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003ABDC);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AC14);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AC5C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AC90);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003ACC0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003ACE8);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AD14);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AD38);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AD94);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003ADF4);

void func_8003AE30(void) {
    D_800E527C->state = 0x65;
    D_800E5274->unk33A = 0;
    D_800E5274->unk312 = 0;
    D_800E5274->unk314 = 0;
    D_800E5274->unk388 = 0;
}

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AE54);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AE78);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AEBC);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AEF0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003AF20);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003B02C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003B05C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003B08C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003B0FC);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003BD40);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003BF7C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003D794);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003E300);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003E3D0);

void func_8003E5CC(void) {
    func_8003E5EC();
}

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003E5EC);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003E734);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003E9A0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003EBC8);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003F628);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003F83C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003FDC4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8003FFE4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800400F8);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80040260);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80040304);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80040350);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800403E4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80040A78);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80040E04);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80041018);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80041488);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80041880);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80041A9C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80041CB8);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80041FEC);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80042204);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80042474);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800428D0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800431C4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800433F0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80043E8C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8004436C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800444D8);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80044628);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8004473C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8004484C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800449A4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80044C2C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80044EE4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80045160);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80045270);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800453A0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8004596C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800459A0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80045CA4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80045E24);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80045FA4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800460A4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800463C4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800464F4);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80046628);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800466EC);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80046850);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8004688C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_800468E0);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80046900);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_8004693C);

INCLUDE_ASM("asm/esa/nonmatchings/overlay2_6B5A40", func_80046C94);

void func_80046EC8(struct000 *arg0, struct000 *arg1, s16 *arg2) {
    s16 orig = *arg2;
    s16 tmp;

    switch (arg0->unk16C->unkDA) {
    case 0:
        *arg2 = *arg2 * 36 >> 4;
        break;
    case 1:
        *arg2 = *arg2 * 24 >> 4;
        break;
    case 2:
        *arg2 = *arg2 * 16 >> 4;
        break;
    case 3:
        *arg2 = *arg2 * 8 >> 4;
        break;
    case 4:
        *arg2 = *arg2 * 5 >> 4;
        break;
    }

    if (arg0 != D_800E73A8.animals[gCurrentAnimalIndex].animal) {
        tmp = (arg0->unk16C->unkDA - arg1->unk16C->unkDA);
        switch (tmp) {
        case 2:
            *arg2 = *arg2 >> 1;
            break;
        case 3:
            *arg2 = *arg2 >> 2;
            break;
        case 4:
            *arg2 = *arg2 >> 3;
            break;
        case 5:
        case 6:
        case 7:
            *arg2 = 0;
            break;
        }
    }
    if (orig != 0) {
        *arg2 = MAX(*arg2, 1);
    }
}

s16 func_80047058(s16 arg0, struct000 *arg1) {
    if (arg0 == 0) {
        return 0;
    }

    switch (arg1->unk16C->unkDA) {
    case 0:
        arg0 = (arg0 * 32) >> 4;
        break;
    case 1:
        arg0 = (arg0 * 24) >> 4;
        break;
    case 2:
        // arg0 = (arg0 * 16) >> 4;
        break;
    case 3:
        arg0 = (arg0 * 10) >> 4;
        break;
    case 4:
        arg0 = (arg0 * 6) >> 4;
        break;
    }
    return  MAX(1, arg0);
}
